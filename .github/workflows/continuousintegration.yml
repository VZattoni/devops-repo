# This workflow will build a .NET project
# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net

name: .Release Pipeline

on:
  push:
    branches: [ "dev" ]


jobs:
  dotnet-build:
    name: BUILD
    uses: ./.github/workflows/dotnetbuild.yml

  code-ql:
    name: SCAN
    needs: dotnet-build
    uses: ./.github/workflows/codeQl.yml

  discord:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - name: Run Discord Webhook
      uses: Sniddl/discord-commits@v1.6 
      with:
        webhook: ${{ secrets.YOUR_DISCORD_WEBHOOK_URL }}
        template: "avatar-with-link"
        include-extras: true